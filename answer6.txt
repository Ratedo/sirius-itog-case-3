Модель обмена сообщениями Publish/Subscribe (Pub/Sub)
Модель Publish/Subscribe (публикация/подписка) — это паттерн обмена сообщениями, где отправители (публикаторы) и получатели (подписчики) взаимодействуют через промежуточный компонент — брокер сообщений. Эта модель обеспечивает асинхронную коммуникацию между сервисами, что особенно полезно в распределённых системах, микросервисных архитектурах.

Роль брокера сообщений
Брокер выступает в качестве посредника, который принимает сообщения от публикаторов и доставляет их подписчикам. Он управляет темами (topics) или очередями (queues), обеспечивая маршрутизацию сообщений.
    Темы — именованные каналы, на которые подписываются получатели.
    Очереди — буферы для хранения сообщений до их обработки подписчиками.

Публикация сообщений (Publish)
Публикатор отправляет сообщение в брокер, указывая тему или очередь. При этом он не знает, кто именно получит сообщение. Это обеспечивает слабую связанность (loose coupling) между компонентами системы.

Подписка (Subscribe)
Подписчик регистрируется в брокере, указывая интересующую тему или очередь. Брокер доставляет сообщения всем активным подписчикам, соответствующим критериям подписки.

Типы подписок
    Realtime подписка — сообщения доставляются немедленно, пока подписчик активен. Если подписчик отключён, сообщения могут быть потеряны.
    Durable подписка — сообщения сохраняются в брокере даже при неактивном подписчике и доставляются при его восстановлении.

Особенности Realtime брокеров сообщений
Realtime брокеры (например, Redis Pub/Sub, MQTT) ориентированы на мгновенную доставку сообщений с минимальными задержками. Их ключевые характеристики:
    Низкая латентность — сообщения доставляются почти мгновенно.
    Отсутствие персистентности — если подписчик неактивен, сообщения теряются.
    Использование — чат-приложения, онлайн-уведомления, IoT-устройства, где критична скорость, но не требуется сохранение истории.

Особенности Durable очередей
Durable брокеры (например, Apache Kafka, RabbitMQ с durable queues) обеспечивают надёжное хранение и доставку сообщений. Их особенности:
    Персистентность — сообщения сохраняются на диске и переживают перезапуск брокера.
    Гарантии доставки — подписчик может получить сообщения даже после длительного простоя.
    Поддержка истории — возможно чтение сообщений с начала очереди (Kafka) или выборка по времени.